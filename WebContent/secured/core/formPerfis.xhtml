<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/templates/templateComMenu.xhtml">

	<ui:define name="content">

		<h:form id="perfisForm">
			<div class="ui-g-12" >
				<h2>
					<h:outputText value="#{msgs.mantem} #{msgs.perfis}" />
				</h2>
			</div>
			<div class="ui-g-12 ui-md-6" style="padding: 0">
				<div class="ui-g-5 ui-md-6">
					<p:outputLabel for="nome" value="#{msgs.nome}:" />
				</div>
				<div class="ui-g-7 ui-md-6">
					<p:inputText id="nome" value="#{perfilFormBack.perfil.nome}"
						required="true" maxlength="60" />
					<p:message for="nome" />
				</div>
				<div class="ui-g-5 ui-md-6">
					<p:outputLabel for="descricao" value="#{msgs.descricao}:" />
				</div>
				<div class="ui-g-7 ui-md-6">
					<p:inputText id="descricao"
						value="#{perfilFormBack.perfil.descricao}" maxlength="60" />
					<p:message for="descricao" />
				</div>
				<div class="ui-g-5 ui-md-6">
					<p:outputLabel for="interno" value="#{msgs.interno}:" />
				</div>
				<div class="ui-g-7 ui-md-6">
					<p:selectBooleanCheckbox id="interno"
						value="#{perfilFormBack.perfil.interno}" />
					<p:message for="interno" />
				</div>
				<div class="ui-g-5 ui-md-6">
					<p:outputLabel for="ativo" value="#{msgs.ativo}:" />
				</div>
				<div class="ui-g-7 ui-md-6">
					<p:selectBooleanCheckbox id="ativo"
						value="#{perfilFormBack.perfil.ativo}" />
					<p:message for="ativo" />
				</div>
			</div>
			<div class="ui-g-12 ui-md-6">
				<h:panelGroup id="permissoes-panel-tree">
			<!-- <p:tab id="tab1-perfil" title="#{msgs.permissoes}"
				disabled="#{permissao.disabled('PERFIL_EDITAR_ABA_PERMISSAO')}">  -->
					<div class="ui-g-6 ui-md-3">
						<p:commandButton value="#{msgs.expandir}"
							update="permissoes-panel-tree" process="@this"
							actionListener="#{perfilFormBack.expandir}" />
					</div>
					<div class="ui-g-6 ui-md-3">
						<p:commandButton value="#{msgs.contrair}"
							update="permissoes-panel-tree" process="@this"
							actionListener="#{perfilFormBack.contrair}" />
					</div>
					<div class="ui-g-6 ui-md-3">
						<p:commandButton value="#{msgs.marcar_todos}"
							update="permissoes-panel-tree" process="@this"
							actionListener="#{perfilFormBack.marcarTodos}" />
					</div>
					<div class="ui-g-6 ui-md-3">
						<p:commandButton value="#{msgs.desmarcar_todos}"
							update="permissoes-panel-tree" process="@this"
							actionListener="#{perfilFormBack.desmarcarTodos}" />
					</div>
					<div class="ui-g-12">
						<p:tree id="arvore-permissoes"
							value="#{perfilFormBack.permissionTree.root}"
							var="node" selectionMode="checkbox"
							selection="#{perfilFormBack.selecionados}">
							<p:treeNode>
								<h:outputText value="#{node.nome} - #{node.tipo.nome}" />
							</p:treeNode>
						</p:tree>
					</div>
				</h:panelGroup>
			<!-- </p:tab>  -->
			</div>
			<div class="ui-g-12" style="padding: 0">
				<div class="ui-g-5 ui-md-3">
					<p:commandButton value="#{msgs.cancelar}" icon="fa fa-remove"
						action="#{perfilFormBack.listagem}" ajax="false" immediate="true">
						<f:param name="first" value="#{perfilFormBack.first}" />
						<f:param name="nro" value="#{perfilFormBack.nroRegistrosPorPagina}" />
					</p:commandButton>
				</div>
				<div class="ui-g-7 ui-md-9">
					<p:commandButton value="#{msgs.salvar}" icon="fa fa-save"
						action="#{perfilFormBack.salva}"
						rendered="#{permissao.rendered('PERFIL_EDITAR_SALVAR')}"
						ajax="false">
						<f:param name="first" value="#{perfilFormBack.first}" />
						<f:param name="nro" value="#{perfilFormBack.nroRegistrosPorPagina}" />
					</p:commandButton>
				</div>
			</div>
		</h:form>
	</ui:define>
</ui:composition>
