<?xml version="1.0" encoding="UTF-8" standalone="yes" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

<p:dialog header="#{msgs.password_alteracao}" widgetVar="alteraSenha"
	closable="false" resizable="false" modal="true" style="max-width: 400px">

	<h:form id="usuarioSenhaForm">
		<div class="ui-g-5">
			<p:outputLabel for="empresa" value="#{msgs.empresa}:" />
		</div>
		<div class="ui-g-7">
			<h:outputText id="empresa"
				value="#{dialogSenhaBack.usuario.empresa.nome}" />
		</div>
		<div class="ui-g-5">
			<p:outputLabel for="nome" value="#{msgs.nome}:" />
		</div>
		<div class="ui-g-7">
			<h:outputText id="nome" value="#{dialogSenhaBack.usuario.nome}" />
		</div>
		<div class="ui-g-5">
			<p:outputLabel for="login" value="#{msgs.login}:" />
		</div>
		<div class="ui-g-7">
			<h:outputText id="login" value="#{dialogSenhaBack.usuario.login}" />
		</div>
		<div class="ui-g-5">
			<p:outputLabel for="pwd0" value="#{msgs.password_atual}:" rendered="#{not dialogSenhaBack.usuarioDiferenteLogado}"/>
		</div>
		<div class="ui-g-7">
			<p:inputText id="pwd0" value="#{dialogSenhaBack.senhaAtual}"
				label="#{msgs.password_atual}" type="password" autocomplete="off"
				name="password" rendered="#{not dialogSenhaBack.usuarioDiferenteLogado}"/>
			<p:message for="pwd0" rendered="#{not dialogSenhaBack.usuarioDiferenteLogado}"/>
		</div>
		<div class="ui-g-5">
			<p:outputLabel for="pwd1" value="#{msgs.password_nova}:" />
		</div>
		<div class="ui-g-7">
			<p:password id="pwd1" value="#{dialogSenhaBack.novaSenha}"
				match="pwd2" label="#{msgs.password}" name="password"
				required="true" />
			<p:message for="pwd1" />
		</div>
		<div class="ui-g-5">
			<p:outputLabel for="pwd2" value="#{msgs.password_confirm}:" />
		</div>
		<div class="ui-g-7">
			<p:password id="pwd2" value="#{dialogSenhaBack.novaSenha}"
				label="#{msgs.password_confirm}" name="password" required="true" />
			<p:message for="pwd2" />
		</div>
		<div class="ui-g-5">
			<p:commandButton value="#{msgs.cancelar}" icon="fa fa-remove"
				oncomplete="PF('alteraSenha').hide();" />
		</div>
		<div class="ui-g-7">
			<p:commandButton value="#{msgs.salvar}" icon="fa fa-save"
				actionListener="#{dialogSenhaBack.alteraSenha}" ajax="true"
				update="@form" />
		</div>

	</h:form>

</p:dialog>

<p:dialog header="#{msgs.password_alterada}" widgetVar="senhaAlterada"
	closable="false" resizable="false" modal="true"
	style="background-color: #e1e1e1;">
	<p:button value="#{msgs.ok}" outcome="/secured/home.xhtml" />
</p:dialog>

</html>