<!DOCTYPE html>
<html xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	<meta http-equiv="X-UA-Compatible" content="IE=Edge" />
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="viewport" content="width=device-width" />

	<title>#{msgs.nome_cliente_software} - #{msgs.nome_software} <ui:insert
			name="modulo"></ui:insert></title>

	<ui:insert name="metadata"></ui:insert>
	<ui:insert name="scripts"></ui:insert>
	<ui:insert name="style"></ui:insert>
</h:head>

<h:body>
	<h:outputStylesheet library="css" name="conteudo.css" />
	
	<ui:debug hotkey="M" />

	<ui:include src="/secured/core/dialogSenhaUsuario.xhtml" />
	<div class="ui-g-12" style="padding-bottom: 0">
		
		<div class="ui-g-3 ">
			<h:form prependid="false">
				<h:commandLink action="#{loginBack.home}"
					title="#{msgs.pagina_inicial}">
					<p:graphicImage library="imagens" name="logo_ucs.png"
						alt="#{msgs.nome_cliente_software}" style="max-width: 100%" />
				</h:commandLink>
			</h:form>
		</div>
		<div class="ui-g-6" style="text-align: center">
			<h1>
				<h:outputText value="#{msgs.nome_software}" />
			</h1>
			<h:outputText value="#{msgs.administrador}"
						rendered="#{loginBack.usuarioLogado.administrador}"
						style="color:red;" />
		</div>
		<div id="mobileMenu" class="ui-g-3">
			<h:form id="mobileMenuButton">
				<h:commandLink ajax="false" class="menuIcons">
					<f:ajax execute="@form" render="@none" />
				  	<i class="fa fa-align-justify fa-fw" />
				</h:commandLink>
			</h:form>
			<p:overlayPanel for="mobileMenuButton" hideEffect="fade" my="right top"
					at="right bottom">
				<h:form>
					<div class="ui-g-6">
						<h5>
							<h:outputText value="#{loginBack.nomeEmpresaUsuarioLogado}" />
						</h5>
						<h5>
							<h:outputText value="#{loginBack.nomeUsuarioLogado}" />
						</h5>
					</div>
					<div class="ui-g-6">
						<h:commandLink>
						  <i class="fa fa-question fa-fw menuIcons" />
						</h:commandLink>
						<h:commandLink>
						  <i class="fa fa-power-off fa-fw menuIcons" />
						</h:commandLink>
					</div>
					<div class="ui-g-12">
					    <p:menubar>
							<p:submenu label="#{msgs.administracao}"
								rendered="#{permissao.rendered('ADMINISTRATIVO')}">
					<!-- 			<p:menuitem value="#{msgs.empresas}" -->
					<!-- 				url="/secured/core/listaEmpresas.jsf" -->
					<!-- 				rendered="#{permissao.rendered('EMPRESA') and permissao.empresaPrincipal}" /> -->
					<!-- 			<p:menuitem value="#{msgs.empresas}" -->
					<!-- 				url="/secured/core/formEmpresas.jsf" -->
					<!-- 				rendered="#{permissao.rendered('EMPRESA') and not permissao.empresaPrincipal}"/> -->
					 			<p:menuitem value="#{msgs.parametros}" 
					 				url="/secured/core/listaParametros.jsf" 
					 				rendered="#{permissao.rendered('PARAMETRO')}" /> 
					<!-- 			<p:menuitem value="#{msgs.idiomas}" -->
					<!-- 				url="/secured/core/listaIdiomas.jsf" -->
					<!-- 				rendered="#{permissao.rendered('IDIOMA')}" /> -->
								<p:menuitem value="#{msgs.traducoes}"
									url="/secured/core/listaTraducoes.jsf"
									rendered="#{permissao.rendered('TRADUCAO')}" />
								<p:menuitem value="#{msgs.perfis}"
									url="/secured/core/listaPerfis.jsf"
									rendered="#{permissao.rendered('PERFIL')}" />
								<p:menuitem value="#{msgs.usuarios}"
									url="/secured/core/listaUsuarios.jsf"
									rendered="#{permissao.rendered('USUARIO')}" />
								<!-- <p:menuitem value="Bootsfaces"
									url="/secured/responsive.jsf"
									rendered="#{permissao.rendered('USUARIO')}" />  -->
							</p:submenu>
							
							<p:menuitem value="#{msgs.dashboard}"
									url="/secured/dashboard.jsf" icon="fa fa-dashboard menuBarIcons"
									rendered="#{permissao.rendered('DASHBOARD')}" />
							<p:menuitem value="#{msgs.resultados}"
									url="/secured/listaResultados.jsf" icon="fa fa-file-o menuBarIcons"
									rendered="#{permissao.rendered('RESULTADO')}" />
							<p:menuitem value="#{msgs.investimentos}"
									url="/secured/listaInvestimentos.jsf" icon="fa fa-dollar menuBarIcons"
									rendered="#{permissao.rendered('INVESTIMENTO')}" />
							
							<p:submenu label="#{msgs.cadastros}" 
								rendered="#{permissao.rendered('CADASTROS')}">
								
								<p:menuitem value="#{msgs.ramosAtividades}" icon="fa fa-tasks menuBarIcons"
									url="/secured/core/listaRamosAtividades.jsf"
									rendered="#{permissao.rendered('RAMO_ATIVIDADE') and permissao.empresaPrincipal}" />
								<p:menuitem value="#{msgs.empresas}"
									url="/secured/core/listaEmpresas.jsf" icon="fa fa-building-o menuBarIcons"
									rendered="#{permissao.rendered('EMPRESA') and permissao.empresaPrincipal}" />
								<p:menuitem value="#{msgs.empresas}"
									url="/secured/core/formEmpresas.jsf" icon="fa fa-building-o menuBarIcons"
									rendered="#{permissao.rendered('EMPRESA') and not permissao.empresaPrincipal}"/>
								<p:menuitem value="#{msgs.alunos}"
									url="/secured/listaAlunos.jsf" icon="fa fa-user menuBarIcons"
									rendered="#{permissao.rendered('ALUNO')}" />
								<p:menuitem value="#{msgs.professores}" icon="fa fa-book menuBarIcons"
									url="/secured/listaProfessores.jsf"
									rendered="#{permissao.rendered('PROFESSOR')}" />
								<p:menuitem value="#{msgs.grupos}"
									url="/secured/listaGrupos.jsf" icon="fa fa-users menuBarIcons"
									rendered="#{permissao.rendered('GRUPO')}" />
								<p:menuitem value="#{msgs.periodos}"
									url="/secured/listaPeriodos.jsf"
									rendered="#{permissao.rendered('PERIODO')}" />
								<p:menuitem value="#{msgs.rodadas}" icon="fa fa-retweet menuBarIcons"
									url="/secured/listaRodadas.jsf"
									rendered="#{permissao.rendered('RODADA')}" />
								
								
					
					
					<!-- 			<p:menuitem value="#{msgs.equipamentos}" url="/secured/listaEquipamentos.jsf" -->
					<!-- 				rendered="#{permissao.rendered('EQUIPAMENTO')}" /> -->
					<!-- 			<p:menuitem value="#{msgs.operadores}" url="/secured/listaOperadores.jsf" -->
					<!-- 				rendered="#{permissao.rendered('OPERADOR')}" /> -->
							</p:submenu>
					<!--		<p:menuitem value="#{msgs.home}" url="/secured/home.jsf" /> -->
						</p:menubar>
			    	</div>
				    	
				</h:form>
			</p:overlayPanel>
		</div>
		<div class="ui-g-3" id="userInfoDesktop">
			<h:form prependid="false">
				<div class="ui-g-12" style="text-align: right; padding-bottom: 0">
					<h5>
						<h:outputText value="#{loginBack.nomeEmpresaUsuarioLogado} - #{loginBack.nomeUsuarioLogado}" />
					</h5>
					 <p:commandLink id="nomeUsuario"
								update="usuarioSenhaForm"
								oncomplete="PF('alteraSenha').show();"
								value="#{loginBack.nomeUsuarioLogado}"
								actionListener="#{dialogSenhaBack.trocaSenha}">
								<f:param name="id" value="#{loginBack.idUsuarioLogado}" />
					</p:commandLink> 
					<p:tooltip for="nomeUsuario"
								value="#{msgs.clique_para_trocar_senha}" />  
				</div>
				<div class="ui-g-12" style="text-align: right; padding-top: 0">
					<h:outputText value="#{msgs.periodo}:" 
						style="text-align: right; padding-right: 5px; vertical-align: super" 
						rendered="#{permissao.rendered('PERIODO_SELECIONAR_PERIODO')}"/>
					<h:selectOneMenu value="#{loginBack.periodo}" class="maxWidthSelect"
						style="vertical-align: super" onchange="submit()" valueChangeListener="#{loginBack.mudaPeriodo}"
						rendered="#{permissao.rendered('PERIODO_SELECIONAR_PERIODO')}"
						id="periodos" converter="omnifaces.SelectItemsConverter">
						<f:selectItems value="#{loginBack.periodos}" var="periodo"
							itemLabel="#{periodo.nome}" itemValue="#{periodo}">
						</f:selectItems>
					</h:selectOneMenu>
					
					<h:outputText value="#{loginBack.periodo}" style="vertical-align: super"
						rendered="#{not permissao.rendered('PERIODO_SELECIONAR_PERIODO')}"/>
					
					<h:commandLink id="configuracoes" class="menuIcons">
					  <i class="fa fa-gear fa-fw" />
					</h:commandLink>
					<p:tooltip for="configuracoes" value="#{msgs.configuracoes}" />
					<p:commandLink id="logout" action="#{loginBack.logout}" ajax="false" class="menuIcons">
						<i class="fa fa-power-off fa-fw" />
					</p:commandLink>
					<p:tooltip for="logout" value="#{msgs.sair}" />
				</div>
			</h:form>
		</div>
	</div>
	
	<div class="ui-g-12" style="padding-bottom: 60px; padding-top: 0;">
		<ui:include src="/secured/menu.xhtml" />
		<ui:insert name="content">[main content to be replaced]</ui:insert>
		
		<h:form >
			<p:confirmDialog global="true">
				<p:commandButton value="#{msgs.sim}" type="button"
					styleClass="ui-confirmdialog-yes" icon="ui-icon-check" />
				<p:commandButton value="#{msgs.nao}" type="button"
					styleClass="ui-confirmdialog-no" icon="ui-icon-close" />
			</p:confirmDialog>
		</h:form>
	</div>
	<div class="ui-g-12" id="footer">
		<h:outputText value="#{msgs.copyrights}" />
	</div>
</h:body>

</html>